{% extends 'main/base.html' %}

{% block title %}Contact Messages{% endblock %}

{% block content %}
<div class="messages-container">
    <div class="messages-header">
        <h2>Contact Messages</h2>
    </div>
    
    <div class="messages-list">
        {% for message in messages %}
        <div class="message-item">
            <div class="message-info">
                <h3>{{ message.name }}</h3>
                <p class="message-meta">
                    <span class="email">{{ message.email }}</span>
                    <span class="date">{{ message.created_at|date:"M d, Y H:i" }}</span>
                </p>
                <p class="message-preview">{{ message.message|truncatewords:20 }}</p>
            </div>
            <div class="message-actions">
                <a href="{% url 'contact:contact_message_detail' message.pk %}" class="btn btn-sm btn-primary">View</a>
                <a href="{% url 'contact:contact_message_delete' message.pk %}" class="btn btn-sm btn-danger">Delete</a>
            </div>
        </div>
        {% empty %}
        <div class="no-messages">
            <p>No contact messages found.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %} 